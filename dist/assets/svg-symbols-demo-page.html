<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Symbols</title>
  <meta name="viewport" content="width=device-width" />
  <style>
    html {
      font-family: "Helvetica Neue", Arial, sans-serif;
      color: black;
      background: #e4e4e4;
      text-align: center;
    }
    body {
      margin: 0;
      padding-top: 2.5rem;
    }
    main {
      padding: 1rem .5rem;
    }
    button {
      font: inherit;
      background: transparent;
      border: none;
    }
    button::-moz-focus-inner {
      padding: 0;
      border: none;
    }
    .symbols-dictionary {
      border: 0 !important;
      clip: rect(0 0 0 0) !important;
      height: 1px !important;
      margin: -1px !important;
      overflow: hidden !important;
      padding: 0 !important;
      position: absolute !important;
      width: 1px !important;
    }
    .gss-toolbar {
      position: absolute;
      z-index: 100;
      top: 0;
      left: 0;
      right: 0;
      display: flex;
      border-bottom: solid 1px #c6c6c6;
      text-align: left;
      background: white;
    }
    .gss-toolbar--active {
      position: fixed;
    }
    .gss-toolbar > * {
      display: inline-block;
      vertical-align: middle;
      white-space: nowrap;
      margin: 0;
      padding: .5rem 1rem;
      line-height: 1.35;
    }
    .gss-toolbar h1 {
      display: none;
      font: inherit;
    }
    .gss-toolbar:not(.gss-toolbar--active) h1 {
      display: inline-block;
    }
    .gss-toolbar:not(.gss-toolbar--active) h1 ~ * {
      display: none !important;
    }
    .gss-toolbar.gss-toolbar > * + * {
      border-left: solid 1px #c6c6c6;
    }
    .gss-toolbar > *:focus {
      outline: none;
      box-shadow: inset 0 0 0 1px #c71585;
    }
    .gss-toolbar [hidden] {
      display: none;
    }
    .gss-toolbar-filter {
      width: 15rem;
      flex-grow: 10;
      border: none;
      font: inherit;
    }
    .gss-toolbar button {
      position: relative;
      z-index: 1;
      font-size: 87.5%;
      background-color: #f4f4f4;
    }
    .gss-toolbar-filter + button {
      margin-left: auto;
    }
    .gss-toolbar button[aria-pressed="true"] {
      z-index: 2;
      color: #ddd;
      background-color: #444;
      outline-color: rgba(255,255,255,.6);
    }
    .gss-toolbar .gss-toolbar-list {
      font-size: 100%;
    }
    .gss-toolbar button > svg {
      fill: currentColor;
      vertical-align: -2px;
      margin: 0 4px 0 2px;
    }
    .gss-toolbar-list[aria-pressed="true"] ~ .gss-toolbar-orig {
      display: none;
    }
    @media (max-width: 40em) {
      .gss-toolbar-filter {
        margin-left: 0 !important;
      }
      .gss-toolbar-filter ~ * {
        display: none !important;
      }
    }

    /* Grid of small icons */
    .gss-iconlist ul {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-content: center;
      min-height: calc(100vh - 100px);
      margin: 0;
      padding: 0;
      list-style: none;
    }
    .gss-iconlist-item {
      display: inline-block;
      vertical-align: top;
      margin: .5rem;
    }
    .gss-iconlist-item a {
      display: block;
      box-sizing: border-box;
      min-height: 100%;
      border-radius: .35em;
      padding: .5rem;
      color: inherit;
      background-color: #fff;
      transition: all 100ms;
    }
    .gss-iconlist-item a:hover,
    .gss-iconlist-item a:focus {
      outline: none;
      color: #fff;
      background-color: rgba(0,0,0,.8);
    }
    .gss-iconlist-item a > svg {
      width: 2.75rem;
      height: 2.75rem;
      vertical-align: top;
      fill: currentColor;
    }
    @media (min-width: 40em) {
      .gss-iconlist-item a > svg {
        width: 3.5rem;
        height: 3.5rem;
      }
    }

    /* Grid of big icons with lots of info */
    .gss-iconboxes {
      display: flex;
      flex-wrap: wrap;
      margin: 0;
    }
    .gss-iconboxes[hidden] {
      display: none;
    }
    .gss-iconboxes::after {
      content: '';
      flex-grow: 1000;
    }
    .gss-iconbox {
      display: inline-block;
      vertical-align: top;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      width: calc(100% - 1rem);
      max-width: 40rem;
      overflow: hidden;
      margin: .5rem;
      border-radius: .5rem;
      background-color: #fff;
    }
    .gss-iconbox:focus {
      outline: none;
      box-shadow: 0 0 0 4px #e960b2;
    }
    .gss-iconbox[data-state="info"] {
      background: #f4f4f4;
    }
    @media (min-width:40em) {
      .gss-iconbox { width: calc(50% - 1rem); }
    }
    @media (min-width:60em) {
      .gss-iconbox { width: calc(33.33% - 1rem); }
    }
    @media (min-width:80em) {
      .gss-iconbox { width: calc(25% - 1rem); }
    }
    @media (min-width:100em) {
      main { width: 105rem; max-width: calc(100% - 1rem); margin: 0 auto; }
      .gss-iconbox { width: calc(20% - 1rem); }
    }
    .gss-iconbox-header,
    .gss-iconbox-head2 {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0;
      padding: 0 .5rem;
      font-size: 87.5%;
      color: #444;
      border-bottom: 1px solid #e6e6e6;
    }
    .gss-iconbox-header {
      background-color: #fff;
    }
    .gss-iconbox[data-state="info"] .gss-iconbox-header,
    .gss-iconbox:not([data-state="info"]) .gss-iconbox-head2 {
      display: none;
    }
    .gss-iconbox-header > *,
    .gss-iconbox-head2 > * {
      display: inline-block;
      white-space: nowrap;
      padding: .75rem .5rem;
    }
    .gss-iconbox-head2 > :nth-child(1) {
      margin-right: auto;
      text-align: left;
    }
    .gss-iconbox-header h2 {
      position: relative;
      top: -1px;
      overflow: hidden;
      text-align: left;
      text-overflow: ellipsis;
      margin: 0;
      font: inherit;
      font-size: 115%;
      line-height: 1;
      color: black;
    }
    .gss-iconbox-header > span {
      color: #777;
    }
    .gss-iconbox-wrapper {
      display: flex;
      flex-direction: column;
      justify-content: center;
      flex-grow: 1;
      position: relative;
      overflow: hidden;
      min-height: 8rem;
    }
    .gss-iconbox:not([data-state="info"]) .gss-iconbox-wrapper {
      background-color: #fafafa;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="rgb(238,238,238)" width="100" height="100"><rect x="0" y="0" width="50" height="50"></rect><rect x="50" y="50" width="50" height="50"></rect></svg>');
      background-size: 24px 24px;
    }
    @media (min-width:40em) {
      .gss-iconbox-wrapper { min-height: 10rem; }
    }
    .gss-iconbox-icon {
      padding: 1rem;
    }
    .gss-iconbox[data-state="info"] .gss-iconbox-icon {
      display: none;
    }
    .gss-iconbox-icon > svg {
      fill: currentColor;
      vertical-align: middle;
      width: 6rem;
      height: 6rem;
      max-width: 16rem;
      max-height: 16rem;
    }
    @media (min-width:40em) {
      .gss-iconbox-icon > svg {
        width: 8rem;
        height: 8rem;
      }
    }
    .gss-showColor svg[id^="gss-icon-"] {
      color: red;
      fill: red;
    }
    .gss-showOriginal .gss-iconbox-icon > svg {
      margin-top: 1rem;
      outline: solid 1px rgba(0,0,0,.5);
      box-shadow: 0 0 0 250px rgba(255,255,255,.8);
    }
    @media (min-resolution: 2dppx) {
      .gss-showOriginal .gss-iconbox-icon > svg {
        outline-width: .5px;
      }
    }
    .gss-showOriginal .gss-iconbox-icon::after {
      content: attr(data-dimensions);
      display: table;
      margin: .5rem auto 0;
      padding: 1px 3px;
      font-size: 75%;
      color: #444;
    }
    .gss-iconbox-code {
      flex-grow: 1;
      margin: 0;
      padding: 1rem;
      text-align: left;
      font: inherit;
      line-height: 1.35;
      background-color: #f4f4f4;
    }
    .gss-iconbox-code code {
      display: block;
      white-space: pre-wrap;
      font-family: monospace, monospace;
      font-size: 80%;
    }
    /* can't display none: copy won't work */
    .gss-iconbox[data-state="icon"] .gss-iconbox-code {
      position: absolute;
      top: -200px;
      opacity: 0;
      pointer-events: none;
    }
    .gss-iconbox-action {
      display: none;
      border-top: 1px solid #e6e6e6;
    }
    .gss-iconbox[data-state] .gss-iconbox-action {
      display: block;
      display: flex;
    }
    .gss-iconbox-action > * {
      flex-grow: 1;
      flex-basis: 33.3%;
      padding: .8rem .5rem;
      border: 0;
      font: inherit;
      font-size: 87.5%;
      color: #444;
      background: none;
    }
    .gss-iconbox-action > * + * {
      border-left: 1px solid #e6e6e6;
    }
    .gss-iconbox-action button {
      cursor: pointer;
      outline: none;
    }
    .gss-iconbox-action button:hover,
    .gss-iconbox-action button:focus {
      color: #c71585;
    }
    .gss-iconbox-action button:focus {
      outline: solid 1px;
      outline-offset: -6px;
    }
    .gss-iconbox-action button:active {
      color: black;
    }
  </style>
  <style>
    .gss-showOriginal .gss-iconbox #gss-icon-test {
      width: 116px;
      height: 124px;
    }
    
    
  </style>
  <style class="gss-filter-css"></style>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" class="symbols-dictionary">
  <defs>
    false
  </defs>
  
  <symbol id="test" viewBox="0 0 116 124">
     <g id="Page-1"> <g id="noun_testing_2699753" transform="translate(-6.000000, 0.000000)"> <g id="Group" transform="translate(6.000000, 0.000000)"> <g transform="translate(51.000000, 59.000000)"> <path d="M32.684,65 C14.865,65 0.368,50.489 0.368,32.653 C0.368,14.816 14.865,0.305 32.684,0.305 C50.503,0.305 65,14.816 65,32.653 C65,50.489 50.503,65 32.684,65 Z M32.684,3.306 C16.519,3.306 3.368,16.471 3.368,32.654 C3.368,48.836 16.519,62.001 32.684,62.001 C48.849,62.001 62,48.835 62,32.653 C62,16.471 48.849,3.306 32.684,3.306 Z" id="Shape" fill-rule="nonzero"/> <g transform="translate(11.000000, 9.000000)"> <path d="M39.272,22.419 L34.904,22.419 C34.075,22.419 33.404,21.747 33.404,20.919 C33.404,20.091 34.075,19.419 34.904,19.419 L39.272,19.419 C39.324,19.375 39.587,18.998 39.587,18.387 C39.587,18.308 39.593,18.228 39.606,18.15 L40.45,12.879 C40.581,12.061 41.351,11.506 42.168,11.635 C42.986,11.766 43.543,12.535 43.412,13.354 L42.585,18.517 C42.532,20.715 41.096,22.419 39.272,22.419 Z" id="Path"/> <path d="M41.555,42.342 C40.831,42.342 40.194,41.817 40.076,41.079 L39.232,35.808 C39.219,35.73 39.213,35.65 39.213,35.571 C39.213,34.959 38.949,34.582 38.839,34.527 L33.591,34.538 C32.762,34.538 32.091,33.866 32.091,33.038 C32.091,32.21 32.762,31.538 33.591,31.538 L38.897,31.538 C40.721,31.538 42.157,33.242 42.211,35.442 L43.038,40.604 C43.169,41.422 42.612,42.191 41.794,42.323 C41.714,42.336 41.634,42.342 41.555,42.342 Z" id="Path"/> <path d="M8.934,22.419 L4.566,22.419 C2.743,22.419 1.307,20.715 1.252,18.516 L0.425,13.353 C0.294,12.535 0.851,11.765 1.669,11.634 C2.483,11.505 3.256,12.06 3.387,12.878 L4.231,18.149 C4.244,18.227 4.25,18.307 4.25,18.386 C4.25,18.997 4.514,19.374 4.624,19.429 L8.934,19.418 C9.763,19.418 10.434,20.09 10.434,20.918 C10.434,21.746 9.763,22.419 8.934,22.419 Z" id="Path"/> <path d="M2.284,42.342 C2.205,42.342 2.125,42.336 2.045,42.323 C1.227,42.191 0.67,41.423 0.801,40.604 L1.628,35.442 C1.683,33.242 3.119,31.538 4.942,31.538 L9.967,31.538 C10.796,31.538 11.467,32.21 11.467,33.038 C11.467,33.866 10.796,34.538 9.967,34.538 L4.942,34.538 C4.89,34.582 4.626,34.959 4.626,35.571 C4.626,35.65 4.62,35.73 4.607,35.808 L3.763,41.079 C3.645,41.816 3.007,42.342 2.284,42.342 Z" id="Path"/> <path d="M18.875,8.436 C18.652,8.436 18.427,8.387 18.214,8.282 C17.341,7.853 16.567,7.228 15.975,6.475 C14.793,4.971 14.595,3.329 14.582,2.484 C14.57,1.656 15.231,0.974 16.059,0.962 C16.067,0.962 16.075,0.962 16.082,0.962 C16.9,0.962 17.569,1.618 17.582,2.44 C17.589,2.907 17.696,3.811 18.333,4.622 C18.649,5.023 19.066,5.359 19.538,5.592 C20.281,5.957 20.587,6.857 20.222,7.6 C19.961,8.128 19.429,8.436 18.875,8.436 Z" id="Path"/> <path d="M24.809,8.436 C24.255,8.436 23.723,8.128 23.462,7.598 C23.096,6.855 23.402,5.955 24.146,5.59 C24.618,5.358 25.035,5.022 25.351,4.619 C25.99,3.807 26.096,2.905 26.102,2.439 C26.114,1.61 26.813,0.904 27.623,0.96 C28.451,0.972 29.113,1.653 29.102,2.481 C29.09,3.326 28.893,4.967 27.709,6.472 C27.117,7.226 26.342,7.851 25.47,8.28 C25.257,8.387 25.031,8.436 24.809,8.436 Z" id="Path"/> <path d="M34.47,18.886 L9.114,18.886 C8.67,18.886 8.249,18.69 7.965,18.35 C7.68,18.009 7.56,17.561 7.637,17.123 C8.859,10.245 14.812,5.252 21.792,5.252 C28.772,5.252 34.726,10.245 35.947,17.123 C36.025,17.561 35.905,18.009 35.619,18.35 C35.335,18.689 34.914,18.886 34.47,18.886 Z M11.05,15.886 L32.534,15.886 C30.966,11.371 26.7,8.252 21.792,8.252 C16.884,8.252 12.618,11.371 11.05,15.886 Z" id="Shape" fill-rule="nonzero"/> <path d="M21.792,41.825 C13.857,41.825 7.402,35.364 7.402,27.423 L7.402,19.654 C7.402,18.837 7.479,18.008 7.637,17.123 C7.764,16.407 8.387,15.886 9.114,15.886 L21.792,15.886 C22.621,15.886 23.292,16.558 23.292,17.386 L23.292,40.325 C23.292,41.153 22.621,41.825 21.792,41.825 Z M10.432,18.886 C10.412,19.147 10.403,19.402 10.403,19.655 L10.403,27.424 C10.403,33.202 14.718,37.99 20.293,38.728 L20.293,18.886 L10.432,18.886 Z" id="Shape" fill-rule="nonzero"/> <path d="M21.792,41.825 C20.963,41.825 20.292,41.153 20.292,40.325 L20.292,17.386 C20.292,16.558 20.963,15.886 21.792,15.886 L34.47,15.886 C35.197,15.886 35.819,16.407 35.947,17.123 C36.105,18.009 36.182,18.837 36.182,19.654 L36.182,27.423 C36.182,35.364 29.727,41.825 21.792,41.825 Z M23.292,18.886 L23.292,38.727 C28.866,37.99 33.182,33.202 33.182,27.423 L33.182,19.654 C33.182,19.401 33.172,19.146 33.153,18.885 L23.292,18.885 L23.292,18.886 Z" id="Shape" fill-rule="nonzero"/> </g> </g> <g id="Path"> <g transform="translate(12.000000, 16.000000)"> <path d="M62.793,6.939 L24.218,6.939 C23.389,6.939 22.718,6.267 22.718,5.439 C22.718,4.611 23.389,3.939 24.218,3.939 L62.794,3.939 C63.623,3.939 64.294,4.611 64.294,5.439 C64.294,6.267 63.622,6.939 62.793,6.939 Z"/> <path d="M62.793,29.476 L24.218,29.476 C23.389,29.476 22.718,28.804 22.718,27.976 C22.718,27.148 23.389,26.476 24.218,26.476 L62.794,26.476 C63.623,26.476 64.294,27.148 64.294,27.976 C64.294,28.804 63.622,29.476 62.793,29.476 Z"/> <path d="M45.75,52.013 L24.218,52.013 C23.389,52.013 22.718,51.341 22.718,50.513 C22.718,49.685 23.389,49.013 24.218,49.013 L45.75,49.013 C46.579,49.013 47.25,49.685 47.25,50.513 C47.25,51.341 46.578,52.013 45.75,52.013 Z"/> <path d="M35.824,74.55 L24.218,74.55 C23.389,74.55 22.718,73.878 22.718,73.05 C22.718,72.222 23.389,71.55 24.218,71.55 L35.824,71.55 C36.653,71.55 37.324,72.222 37.324,73.05 C37.324,73.878 36.653,74.55 35.824,74.55 Z"/> <path d="M2.475,12.907 C2.13,12.907 1.783,12.789 1.5,12.547 C0.871,12.008 0.797,11.061 1.336,10.432 L9.752,0.603 C10.291,-0.026 11.238,-0.1 11.867,0.439 C12.496,0.978 12.57,1.925 12.031,2.554 L3.615,12.383 C3.318,12.729 2.898,12.907 2.475,12.907 Z"/> <path d="M10.892,12.907 C10.469,12.907 10.049,12.729 9.752,12.383 L1.336,2.554 C0.797,1.925 0.87,0.978 1.5,0.439 C2.13,-0.1 3.077,-0.027 3.615,0.603 L12.031,10.432 C12.57,11.061 12.497,12.008 11.867,12.547 C11.584,12.789 11.237,12.907 10.892,12.907 Z"/> <path d="M6.685,32.214 C6.261,32.214 5.841,32.035 5.545,31.69 L1.337,26.776 C0.798,26.147 0.871,25.2 1.501,24.661 C2.131,24.122 3.078,24.195 3.616,24.825 L6.887,28.644 L17.329,20.41 C17.979,19.898 18.922,20.007 19.435,20.659 C19.948,21.309 19.837,22.253 19.186,22.765 L7.613,31.892 C7.338,32.108 7.01,32.214 6.685,32.214 Z"/> <path d="M6.685,54.751 C6.261,54.751 5.841,54.572 5.544,54.227 L1.336,49.312 C0.797,48.683 0.871,47.736 1.5,47.197 C2.129,46.659 3.077,46.731 3.615,47.361 L6.886,51.181 L17.327,42.947 C17.977,42.434 18.92,42.545 19.433,43.196 C19.946,43.846 19.835,44.79 19.184,45.302 L7.611,54.429 C7.338,54.646 7.01,54.751 6.685,54.751 Z"/> <path d="M6.685,77.288 C6.261,77.288 5.841,77.109 5.544,76.764 L1.336,71.849 C0.797,71.22 0.871,70.273 1.5,69.734 C2.129,69.195 3.077,69.268 3.615,69.898 L6.886,73.718 L17.328,65.483 C17.978,64.97 18.921,65.081 19.434,65.732 C19.947,66.382 19.836,67.326 19.185,67.838 L7.612,76.966 C7.338,77.183 7.01,77.288 6.685,77.288 Z"/> </g> <path d="M57.469,109.365 L8.679,109.365 C3.893,109.365 1.77635684e-15,105.469 1.77635684e-15,100.679 L1.77635684e-15,8.686 C0,3.896 3.893,0 8.679,0 L80.59,0 C85.375,0 89.268,3.896 89.268,8.686 L89.268,61.084 C89.268,61.912 88.597,62.584 87.768,62.584 C86.939,62.584 86.268,61.912 86.268,61.084 L86.268,8.686 C86.269,5.551 83.721,3 80.59,3 L8.679,3 C5.547,3 3,5.551 3,8.686 L3,100.68 C3,103.815 5.547,106.366 8.679,106.366 L57.469,106.366 C58.298,106.366 58.969,107.038 58.969,107.866 C58.969,108.694 58.297,109.365 57.469,109.365 Z"/> </g> </g> </g> </g> 
  </symbol>
  <symbol id="gss-icon-list" viewBox="0 0 5 5">
    <rect width="2" height="2" x="0" y="0"></rect>
    <rect width="2" height="2" x="3" y="0"></rect>
    <rect width="2" height="2" x="0" y="3"></rect>
    <rect width="2" height="2" x="3" y="3"></rect>
  </symbol>
</svg>
<header class="gss-toolbar">
  <h1>1 Symbols</h1>
  <button class="gss-toolbar-list">
    <svg aria-label="Compact" width="15" height="15"><use xlink:href="#gss-icon-list"></use>
    </svg> List
  </button>
  <input class="gss-toolbar-filter" type="search"
         placeholder="Filter 1 symbols…"
         aria-label="Filter by id" title="Filter by id">
  <button class="gss-toolbar-orig" data-toggle-class="gss-showOriginal">Original Size</button>
  <button class="gss-toolbar-outl" data-toggle-class="gss-showColor">Test Color</button>
</header>
<main>
<nav class="gss-iconlist" hidden></nav>
<div class="gss-iconboxes">
  <div class="gss-iconbox gss-searchable"
       id="gss-iconbox-test"
       data-search="test test 116x124 >1 >2 >3 >4 >5 >6 >7 <8 <9">
    <div class="gss-iconbox-header">
      <h2>test</h2>
      <span>7.5&thinsp;kB</span>
    </div>
    <p class="gss-iconbox-head2">
      <span>test.svg</span>
      <span>116&thinsp;×&thinsp;124</span>
      <span>7481&thinsp;B</span>
    </p>
    <div class="gss-iconbox-wrapper">
      <div class="gss-iconbox-icon" data-dimensions="116&thinsp;×&thinsp;124">
        <svg role="img" id="gss-icon-test">
          <use xlink:href="#test"></use>
        </svg>
      </div>
      <div class="gss-iconbox-code">
        <code>&lt;svg role=&quot;img&quot; class=&quot;test&quot;&gt;
  &lt;use xlink:href=&quot;#test&quot;&gt;&lt;/use&gt;
&lt;/svg&gt;</code>
      </div>
    </div>
    <div class="gss-iconbox-action">
      <button data-action="copy">Copy</button>
      <button data-action="info">Show</button>
    </div>
  </div>
</div>
</main>
<script type="text/javascript">
  (function () {
    var header = document.querySelector('.gss-toolbar');
    var boxes = document.querySelector('.gss-iconboxes');
    var clist = document.querySelector('.gss-iconlist');
    var main = document.querySelector('main');

    // Show header
    header.classList.add('gss-toolbar--active');

    // Hide example code and show controls
    [].forEach.call(
      boxes.querySelectorAll('.gss-iconbox'),
      toggleBoxContent
    );

    // Toggle list of smaller icons
    var listToggle = header.querySelector('.gss-toolbar-list');
    listToggle.hidden = false;
    listToggle.addEventListener('click', function(event) {
        toggleCompactList();
    });
    // Close list and navigate
    clist.addEventListener('click', function(event) {
      var link = closest(
        event.target,
        function(el){return el.hasAttribute('href')}
      );
      if (link) {
        event.preventDefault();
        var target = document.querySelector(link.getAttribute('href'));
        if (target) toggleCompactList('big', target);
      }
    });

    // Enable filter box
    var filterInput = header.querySelector('.gss-toolbar-filter');
    var filterStyle = document.querySelector('.gss-filter-css');
    // filter once on page load, then on key presses
    if (filterInput && filterStyle) {
      filterIcons(filterInput.value, filterStyle);
      filterInput.addEventListener('keypress', function(e) {
        if (e.keyCode === 27) {
          e.currentTarget.value = '';
          filterIcons('', filterStyle);
        }
      });
      filterInput.addEventListener('input', function(e) {
        filterIcons(e.currentTarget.value, filterStyle);
      });
      filterInput.hidden = false;
    }

    // Icon actions (with event delegation)
    boxes.addEventListener('click', function(event) {
      var action = event.target.getAttribute('data-action');
      if (!action) return;
      var box = closest(event.target, function(el){
        return el.classList.contains('gss-iconbox');
      });
      if (box && action === 'info') {
        var state = toggleBoxContent(box);
      }
      if (box && action === 'copy') {
        selectAndCopy(box.querySelector('code'));
      }
    });
    // Remove JS-added tabindex from boxes, to avoid giving a focusring
    // to a box by clicking it or its content.
    boxes.addEventListener('blur', function(event) {
      var t = event.target;
      if (t.classList.contains('gss-iconbox') && t.hasAttribute('tabindex')) {
        t.removeAttribute('tabindex');
      }
    }, true);

    // Enable checkboxes
    header.addEventListener('click', function(event) {
      var attr = 'data-toggle-class';
      var btn = closest(event.target, function(el) {
        return el.hasAttribute(attr);
      });
      if (btn) {
        var c = btn.getAttribute(attr);
        if (main.classList.contains(c)) {
          main.classList.remove(c);
          btn.setAttribute('aria-pressed', 'false');
        } else {
          main.classList.add(c);
          btn.setAttribute('aria-pressed', 'true');
        }
      }
    });

    /**
     * Quick and dirty polyfill for element.closest
     * @param {Element} self
     * @param {Function} cb - must return true for a matching element
     * @return {Element|null}
     */
    function closest(self, cb) {
      if (cb(self)) return self;
      var p = self.parentElement;
      return p === null ? null : closest(p, cb);
    }

    /**
     * Toggle code example visibility
     */
    function toggleBoxContent(box) {
      var a = 'data-state', x = 'icon', y = 'info';
      var s = box.getAttribute(a) === x ? y : x;
      box.setAttribute(a, s);
      return s;
    }

    /**
     * Copy example code to clipboard
     * https://developers.google.com/web/updates/2015/04/cut-and-copy-commands
     */
    function selectAndCopy(element) {
      window.getSelection().removeAllRanges();
      var range = document.createRange();
      range.selectNode(element);
      window.getSelection().addRange(range);
      document.execCommand('copy');
    }

    /**
     * Filter content by id, with multiple words possible (additive)
     * Filtering is done by injecting CSS rules in a stylesheet
     */
    function filterIcons(query, stylesheet) {
      // clean up input
      var search = query.toLowerCase()
        .replace(/["'\\\]){}]+/g, ' ')
        .replace('/\s+/g', ' ')
        .trim();
      // undo filter
      if (search === '') {
        stylesheet.innerHTML = '';
        return;
      }
      // add filter
      var keywords = search.split(' ');
      var css = '';
      for (var i=0; i<keywords.length; i++) {
        if (i>0) css += ',\n';
        css += '.gss-searchable:not([data-search*="' + keywords[i] + '"])';
      }
      css += '\n{ display: none !important; }';
      stylesheet.innerHTML = css;
    }

    /**
     * Show the compact list
     * @param {string} mode - 'small' or 'big'
     * @param {Element|undefined} target - element to focus
     */
    function toggleCompactList(mode, target) {
      if (clist.childElementCount === 0) {
        clist.innerHTML = '<ul>' + getCompactList(boxes).join('\n') + '</ul>';
      }
      if (['small', 'big'].indexOf(mode) === -1) {
        mode = clist.hidden ? 'small' : 'big';
      }
      // switch content
      clist.hidden = (mode === 'big');
      boxes.hidden = (mode === 'small');

      // update button status
      listToggle.setAttribute('aria-pressed', String(mode === 'small'));

      // scroll to the top if showing the small list
      if (mode === 'small' || (mode === 'big' && !target)) {
        window.scrollTo(0, 0);
      }
      // scroll to element and give it focus if going to big mode
      if (mode === 'big' && target) {
        // focus element
        target.setAttribute('tabindex', '-1');
        target.focus();
        // centering in viewport
        var y = target.offsetTop - window.innerHeight / 2 + target.offsetHeight / 2;
        window.scrollTo(0, Math.max(Math.round(y) - 20 /* adjust for header */, 0));
      }
    }

    /**
     * Make the list of smaller icons by copying from the big list
     */
    function getCompactList(source) {
      var icons = source.querySelectorAll('.gss-iconbox');
      return [].map.call(icons, function(el) {
        var search = el.getAttribute('data-search');
        var icon = el.querySelector('.gss-iconbox-icon > svg').outerHTML;
        return '<li class="gss-iconlist-item gss-searchable" ' +
          'data-search="' + search +'"><a href="#' + el.id + '">' +
          icon + '</a></li>';
      });
    }

  }());
</script>
</body>
</html>